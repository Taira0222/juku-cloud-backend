# PRD作成ガイドライン

## PRDの目的

プロダクト要求定義書（PRD）は、開発チーム全体がプロダクトのビジョンと要件を共有するための重要なドキュメントです。

## 作成時の原則

### 1. 具体性

**良い例:**
- ユーザーは3秒以内にログインできる
- 月間1000万PVに対応する

**悪い例:**
- 高速にログインできる
- 多くのアクセスに対応する

### 2. 測定可能性

すべての要件とKPIは測定可能である必要があります。

**良い例:**
- ユーザー登録完了率: 70%以上
- API レスポンスタイム: 平均200ms以下

**悪い例:**
- ユーザー登録率を向上させる
- 高速なAPIレスポンス

### 3. ユーザー視点

常にユーザーの視点から要件を記述します。

**良い例:**
- As a 新規ユーザー, I want to SNSアカウントでログインしたい, So that 簡単に始められる

**悪い例:**
- システムはOAuth 2.0を実装する

### 4. 優先順位の明確化

MoSCoW法を使用して優先順位を明確にします。

- **Must Have**: 必須機能（MVPに含まれる）
- **Should Have**: 重要だが必須ではない
- **Could Have**: あると良い
- **Won't Have**: 今回は実装しない

## ユーザーストーリーの書き方

### フォーマット

```
As a [ユーザータイプ]
I want to [やりたいこと]
So that [達成したい目的]
```

### 受け入れ条件

各ユーザーストーリーには、完了の定義となる受け入れ条件を明記します。

**良い例:**
```
受け入れ条件:
- [ ] メールアドレスとパスワードでログインできる
- [ ] パスワードを忘れた場合、リセットメールを受信できる
- [ ] ログイン失敗時、適切なエラーメッセージが表示される
- [ ] 3回失敗するとアカウントが一時的にロックされる
```

## 非機能要件の定義

### パフォーマンス

- レスポンスタイムの目標値
- 同時接続数の目標値
- データ処理速度の目標値

### セキュリティ

- 認証・認可の要件
- データ暗号化の要件
- OWASP Top 10への対策

### スケーラビリティ

- ユーザー数の増加への対応
- データ量の増加への対応
- トラフィック増加への対応

### 可用性

- 目標稼働率（例: 99.9%）
- ダウンタイム許容時間
- バックアップ・リカバリー要件

## KPI設定のポイント

### SMART原則

- **S**pecific（具体的）
- **M**easurable（測定可能）
- **A**chievable（達成可能）
- **R**elevant（関連性がある）
- **T**ime-bound（期限がある）

### 例

**良い例:**
- ユーザー登録完了率: 70%以上（3ヶ月後）
- 月間アクティブユーザー数: 10,000人（6ヶ月後）
- 平均セッション時間: 10分以上（3ヶ月後）

## リスク管理

各リスクについて以下を明記します:

- **影響度**: 高/中/低
- **発生確率**: 高/中/低
- **対策**: 具体的な対応方法
- **担当**: リスク監視の責任者

### 例

| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|----------|------|
| 外部API障害によるサービス停止 | 高 | 中 | フォールバック機能の実装、代替APIの準備 |
| ユーザー数急増によるサーバー負荷 | 高 | 低 | オートスケーリング設定、負荷テストの実施 |

## チェックリスト

PRD作成完了前に以下を確認してください:

- [ ] すべてのセクションが記入されている
- [ ] ユーザーストーリーに受け入れ条件が記載されている
- [ ] KPIが測定可能である
- [ ] 優先順位（Must/Should/Could）が明確である
- [ ] 非機能要件が具体的な数値で定義されている
- [ ] リスクと対策が記載されている
- [ ] 技術用語に説明がある（または用語集に記載されている）
- [ ] ステークホルダーのレビューを受けている

## よくある間違い

### 1. 実装方法を記述する

**悪い例:** 「PostgreSQLを使用してデータを保存する」
**良い例:** 「ユーザーデータは永続化され、データ損失を防ぐ」

### 2. 曖昧な表現

**悪い例:** 「高速に動作する」
**良い例:** 「ページ読み込み時間は2秒以内」

### 3. 優先順位の欠如

すべての機能を「必須」としない。Must/Should/Couldを明確に区別する。

### 4. ユーザー視点の欠如

技術的な要件だけでなく、ユーザーが達成したいことを記述する。
