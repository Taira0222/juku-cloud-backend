# 用語集

## 概要

このドキュメントは、プロジェクト内で使用される用語の定義を提供します。
チーム内での認識齟齬を防ぎ、一貫性のあるコミュニケーションを実現します。

## ビジネス用語

### 塾 (Juku)
**定義:** 学習塾のオンラインプラットフォーム。講師と生徒をつなぎ、授業の管理、成績記録、コミュニケーションを一元化する

**使用例:** 「塾の管理者は講師と生徒のアカウントを管理できる」

**関連用語:** [講師](#講師-teacher), [生徒](#生徒-student)

**英語表記:** Juku (Learning Center)

---

### 講師 (Teacher)
**定義:** プラットフォーム上で授業を提供し、生徒を指導するユーザー

**権限:**
- 自分が担当する授業の作成・編集・削除
- 生徒の出席記録・成績記録の管理
- 生徒への通知送信

**使用例:** 「講師はレッスンを作成し、生徒を割り当て、成績を記録できる」

**関連用語:** [生徒](#生徒-student), [レッスン](#レッスン-lesson), [成績記録](#成績記録-grade-record)

**英語表記:** Teacher

---

### 生徒 (Student)
**定義:** プラットフォーム上で授業を受講するユーザー

**権限:**
- 自分のレッスンスケジュールの閲覧
- 自分の成績記録の閲覧
- 講師へのメッセージ送信

**使用例:** 「生徒は自分のレッスン履歴と成績を確認できる」

**関連用語:** [講師](#講師-teacher), [レッスン](#レッスン-lesson)

**英語表記:** Student

---

### レッスン (Lesson)
**定義:** 講師と生徒の間で行われる個別指導セッション

**属性:**
- タイトル: レッスンの名称
- 日時: スケジュール日時
- 時間: レッスンの長さ（分）
- ステータス: scheduled（予定）、completed（完了）、cancelled（キャンセル）
- 講師: 担当講師
- 生徒: 受講生徒
- 詳細: レッスン内容の説明

**使用例:** 「講師は新しいレッスンを作成し、日時と生徒を指定する」

**関連用語:** [講師](#講師-teacher), [生徒](#生徒-student), [成績記録](#成績記録-grade-record)

**英語表記:** Lesson

---

### 成績記録 (Grade Record)
**定義:** レッスン完了後に講師が記録する生徒の評価とフィードバック

**属性:**
- スコア: 0-100点の評価
- フィードバック: 文字による評価コメント（最大500文字）
- 作成日時: 記録された日時

**使用例:** 「講師はレッスン完了後に成績記録を作成し、フィードバックを残す」

**関連用語:** [レッスン](#レッスン-lesson), [講師](#講師-teacher)

**英語表記:** Grade Record

---

## 技術用語

### API (Application Programming Interface)
**定義:** アプリケーション間でデータをやり取りするためのインターフェース

**使用例:** 「フロントエンドはバックエンドAPIを呼び出してデータを取得する」

**関連用語:** [REST](#rest-representational-state-transfer), [GraphQL](#graphql)

---

### REST (Representational State Transfer)
**定義:** HTTPプロトコルを使用したWebサービスのアーキテクチャスタイル

**使用例:** 「RESTful APIを設計する」

**関連用語:** [API](#api-application-programming-interface), [HTTP](#http-hypertext-transfer-protocol)

---

### JWT (JSON Web Token)
**定義:** JSON形式のデータを安全に送信するためのトークン規格。このプロジェクトでは認証トークンとして使用

**仕様:**
- 有効期限: 24時間
- アルゴリズム: HS256
- ペイロード: user_id、user_type、exp

**使用例:** 「認証にJWTを使用し、各APIリクエストのAuthorizationヘッダーに含める」

**関連用語:** [認証](#認証), [認可](#認可)

---

### Alba
**定義:** Ruby用の高速JSONシリアライザーライブラリ。このプロジェクトではAPIレスポンスの整形に使用

**使用例:** 「UserSerializerはAlbaを使用してユーザー情報をJSON化する」

**関連用語:** [Serializer](#serializer-シリアライザー)

---

### Devise Token Auth
**定義:** Rails APIでトークンベース認証を実装するためのgem

**機能:**
- ユーザー登録・ログイン・ログアウト
- トークンベース認証
- パスワードリセット
- メール確認

**使用例:** 「ユーザー認証にDevise Token Authを使用している」

**関連用語:** [JWT](#jwt-json-web-token), [認証](#認証)

---

### Service層
**定義:** ビジネスロジックを実装するレイヤー。ControllerとModelの間に位置し、複雑な処理を担当

**責務:**
- 複数のモデルにまたがるビジネスロジック
- トランザクション管理
- 外部サービスとの連携
- 非同期ジョブの起動

**使用例:** 「LessonServiceはレッスン作成のビジネスロジックを実装する」

**関連用語:** [レイヤードアーキテクチャ](#レイヤードアーキテクチャ)

---

### Query層
**定義:** 複雑なデータベースクエリを実装するレイヤー。N+1問題の回避や動的な検索条件の組み立てを担当

**責務:**
- 複雑な JOIN クエリ
- 動的な検索条件の組み立て
- N+1問題の回避（includes、preload、eager_load）
- ページネーション

**使用例:** 「LessonQueryは講師または生徒に基づいてレッスンを取得する」

**関連用語:** [N+1問題](#n1問題)

---

### N+1問題
**定義:** ORMを使用する際に、親レコード取得後に各子レコードを個別に取得することで発生するパフォーマンス問題

**対策:**
- `includes`: 関連を事前読み込み（LEFT OUTER JOIN）
- `preload`: 関連を別クエリで読み込み
- `eager_load`: 関連を強制的にJOINで読み込み

**使用例:** 「LessonQueryは`includes(:student, :teacher)`でN+1問題を回避している」

**悪い例:**
```ruby
# N+1問題あり - 生徒数分のクエリが発行される
lessons = Lesson.all
lessons.each { |lesson| puts lesson.student.name }
```

**良い例:**
```ruby
# N+1問題なし - 1回のクエリで取得
lessons = Lesson.includes(:student).all
lessons.each { |lesson| puts lesson.student.name }
```

**関連用語:** [ORM](#orm-object-relational-mapping), [Query層](#query層)

---

### ActiveRecord
**定義:** RailsのORM（Object-Relational Mapping）ライブラリ。データベーステーブルをRubyのオブジェクトとして扱う

**使用例:** 「UserモデルはActiveRecordを継承している」

**関連用語:** [ORM](#orm-object-relational-mapping)

---

### ActiveJob
**定義:** Railsの非同期ジョブフレームワーク。時間のかかる処理をバックグラウンドで実行

**使用例:**
- メール送信
- データのバッチ処理
- 外部APIの呼び出し

**例:** 「LessonNotificationJobはActiveJobを使用してメール送信を非同期実行する」

**関連用語:** [Sidekiq](#sidekiq)

---

### RSpec
**定義:** Rubyのテストフレームワーク。BDD（振る舞い駆動開発）スタイルでテストを記述

**テスト種類:**
- モデルテスト: バリデーション、メソッドのテスト
- コントローラーテスト: リクエスト/レスポンスのテスト
- リクエストテスト: APIエンドポイントの統合テスト
- サービステスト: ビジネスロジックのテスト

**使用例:** 「RSpecでUserモデルのバリデーションをテストする」

---

### FactoryBot
**定義:** RSpecと連携してテストデータを生成するライブラリ

**使用例:**
```ruby
# ファクトリー定義
FactoryBot.define do
  factory :user do
    name { 'John Doe' }
    email { 'john@example.com' }
    user_type { 'teacher' }
  end
end

# テストで使用
user = create(:user)  # DBに保存
user = build(:user)   # メモリ上のみ
```

**関連用語:** [RSpec](#rspec)

---

## ドメイン用語

### ユーザー
**定義:** システムを利用する個人または組織

**種類:**
- 一般ユーザー: 基本機能のみ利用可能
- 管理者ユーザー: すべての機能を利用可能

**使用例:** 「ユーザーは自分のプロフィールを編集できる」

**関連用語:** [認証](#認証), [権限](#権限)

---

### セッション
**定義:** ユーザーのログインからログアウトまでの一連の操作期間

**使用例:** 「セッションの有効期限は24時間」

**関連用語:** [JWT](#jwt-json-web-token), [認証](#認証)

---

## アーキテクチャ用語

### レイヤードアーキテクチャ
**定義:** システムを複数の層に分割し、各層が特定の責務を持つアーキテクチャパターン

**層構成:**
1. Presentation Layer (プレゼンテーション層)
2. Application Layer (アプリケーション層)
3. Domain Layer (ドメイン層)
4. Infrastructure Layer (インフラストラクチャ層)

**使用例:** 「レイヤードアーキテクチャに従ってコードを配置する」

**関連用語:** [クリーンアーキテクチャ](#クリーンアーキテクチャ)

---

### DDD (Domain-Driven Design)
**定義:** ドメインモデルを中心に設計を行う開発手法

**使用例:** 「DDDの原則に従ってエンティティを設計する」

**関連用語:** [エンティティ](#エンティティ), [値オブジェクト](#値オブジェクト)

---

### エンティティ
**定義:** 一意の識別子を持ち、ライフサイクル全体を通じて追跡されるオブジェクト

**使用例:** 「Userエンティティはユーザーの状態を保持する」

**関連用語:** [値オブジェクト](#値オブジェクト), [DDD](#ddd-domain-driven-design)

---

### 値オブジェクト
**定義:** 識別子を持たず、属性の値によって定義されるオブジェクト

**特徴:**
- イミュータブル（不変）
- 等価性は値で判断

**使用例:** 「Emailアドレスを値オブジェクトとして実装する」

**関連用語:** [エンティティ](#エンティティ)

---

## データベース用語

### マイグレーション
**定義:** データベーススキーマのバージョン管理と変更適用の仕組み

**使用例:** 「新しいテーブルを追加するマイグレーションを作成する」

**関連用語:** [スキーマ](#スキーマ), [ロールバック](#ロールバック)

---

### ORM (Object-Relational Mapping)
**定義:** オブジェクト指向プログラミング言語とリレーショナルデータベース間のデータ変換を行う技術

**使用例:** 「ORMを使用してデータベースクエリを実行する」

**関連用語:** [エンティティ](#エンティティ)

---

## セキュリティ用語

### 認証 (Authentication)
**定義:** ユーザーが本人であることを確認するプロセス

**使用例:** 「ユーザー名とパスワードで認証を行う」

**関連用語:** [認可](#認可-authorization), [JWT](#jwt-json-web-token)

---

### 認可 (Authorization)
**定義:** 認証されたユーザーが特定のリソースにアクセスする権限を持つかを判断するプロセス

**使用例:** 「管理者のみがユーザーを削除できるよう認可を設定する」

**関連用語:** [認証](#認証-authentication), [権限](#権限)

---

### CORS (Cross-Origin Resource Sharing)
**定義:** 異なるオリジンからのリソースへのアクセスを制御する仕組み

**使用例:** 「CORSを設定してフロントエンドからのAPIアクセスを許可する」

**関連用語:** [API](#api-application-programming-interface)

---

## 開発プロセス用語

### CI/CD (Continuous Integration/Continuous Deployment)
**定義:** コードの変更を継続的に統合し、自動的にデプロイする開発プラクティス

**使用例:** 「GitHub ActionsでCI/CDパイプラインを構築する」

**関連用語:** [デプロイメント](#デプロイメント)

---

### リファクタリング
**定義:** 外部から見た動作を変えずに、コードの内部構造を改善すること

**使用例:** 「重複コードをリファクタリングして共通関数に抽出する」

**関連用語:** [テクニカルデット](#テクニカルデット)

---

### テクニカルデット
**定義:** 短期的な解決策を選択することで蓄積される、将来的に解消すべき技術的負債

**使用例:** 「テクニカルデットを返済するためにリファクタリングを行う」

**関連用語:** [リファクタリング](#リファクタリング)

---

## テスト用語

### ユニットテスト
**定義:** 個々の関数やメソッドが正しく動作することを検証するテスト

**使用例:** 「各関数に対してユニットテストを作成する」

**関連用語:** [統合テスト](#統合テスト), [E2Eテスト](#e2eテスト)

---

### 統合テスト
**定義:** 複数のモジュールやコンポーネントが連携して正しく動作することを検証するテスト

**使用例:** 「APIとデータベースの統合テストを実行する」

**関連用語:** [ユニットテスト](#ユニットテスト), [E2Eテスト](#e2eテスト)

---

### E2Eテスト (End-to-End Test)
**定義:** ユーザーの視点でシステム全体の動作を検証するテスト

**使用例:** 「ログインから商品購入までのE2Eテストを実施する」

**関連用語:** [ユニットテスト](#ユニットテスト), [統合テスト](#統合テスト)

---

## 略語一覧

| 略語 | 正式名称 | 日本語 |
|------|----------|--------|
| API | Application Programming Interface | アプリケーションプログラミングインターフェース |
| REST | Representational State Transfer | レプレゼンテーショナルステートトランスファー |
| JWT | JSON Web Token | JSONウェブトークン |
| ORM | Object-Relational Mapping | オブジェクト関係マッピング |
| CORS | Cross-Origin Resource Sharing | クロスオリジンリソース共有 |
| CI/CD | Continuous Integration/Continuous Deployment | 継続的インテグレーション/継続的デプロイメント |
| DDD | Domain-Driven Design | ドメイン駆動設計 |
| DTO | Data Transfer Object | データ転送オブジェクト |
| CRUD | Create, Read, Update, Delete | 作成、読取、更新、削除 |

## 更新履歴

| 日付 | 変更内容 | 更新者 |
|------|----------|--------|
| YYYY-MM-DD | 初版作成 | - |
